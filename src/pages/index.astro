---
import Layout from '../layouts/Layout.astro';
import WeekExpensesChart from '../components/WeekExpensesChart.astro';

const url = Astro.url.origin;
const response = await fetch(`${url}/data.json`);
const data = await response.json();

const {
  currentBalance,
  currentDay,
  currentMonthExpenses,
  pastMonthExpenses,
  expensesObject,
} = data;
---

<Layout title="Frontend Mentor | Expenses chart component">
  <main>
    <WeekExpensesChart
      balance={currentBalance}
      class="expenses_chart_component"
      currentDay={currentDay}
      currentMonthExpenses={currentMonthExpenses}
      expensesObject={expensesObject}
      pastMonthExpenses={pastMonthExpenses}
    />
  </main>
</Layout>

<style>
  main {
    height: 100%;
    display: grid;
  }

  .expenses_chart_component {
    align-self: top;
    padding-top: 67px;
    padding-left: 16px;
    padding-right: 16px;
  }

  @media screen and (min-width: 570px) {
    .expenses_chart_component {
      place-self: center;
      width: 570px;
      padding-top: 0px;
      padding-left: 0px;
      padding-right: 0px;
    }
  }
</style>
